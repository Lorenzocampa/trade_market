# SDL2
find_package(SDL2 REQUIRED)
include_directories(${SDL2_INCLUDE_DIRS})
link_directories(${SDL2_LIBRARY_DIRS})

# ImGui
add_subdirectory(lib/imgui)

# Aggiungi le sorgenti di ImGui backend SDL2 + OpenGL3
set(IMGUI_SRC
    lib/imgui/backends/imgui_impl_sdl2.cpp
    lib/imgui/backends/imgui_impl_opengl3.cpp
)

# Tutti i file .cpp di imgui
file(GLOB IMGUI_CORE lib/imgui/*.cpp)
list(REMOVE_ITEM IMGUI_CORE "${CMAKE_SOURCE_DIR}/lib/imgui/imgui_demo.cpp")  # opzionale

# Executable
add_executable(trade_market
    src/main.cpp
    ${IMGUI_SRC}
    ${IMGUI_CORE}
)

# Include
target_include_directories(trade_market PRIVATE
    ${CMAKE_SOURCE_DIR}/include
    ${SDL2_INCLUDE_DIRS}
    lib/imgui
    lib/imgui/backends
)

add_library(gl3w STATIC lib/gl3w/gl3w.cpp)
target_include_directories(gl3w PUBLIC lib/gl3w)

find_package(CURL REQUIRED)
include_directories(${CURL_INCLUDE_DIRS})

# Link
target_link_libraries(trade_market PRIVATE
    gl3w
    SDL2
    GL
    pthread
    dl
    curl
)

